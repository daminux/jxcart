/**
 * Created with JetBrains PhpStorm.
 * User: shadam
 * Date: 30/12/12
 * Time: 12:17
 * To change this template use File | Settings | File Templates.
 */
$(document).ready(function(){function e(){var e="";$(iC).each(function(){e=e+$(this).attr("id")+"|"});var e=e.substr(0,e.length-1);return e}function t(t,r){var i="";it=$(t);if(it.is("a")){i=it.attr("href");i=i.substr(1,i.length)}else{i=it.serialize()}i=i+"&template="+e();var s="http://";var o="jxcart.edatamart.fr/";$.post(s+o,i,function(e){if(r.type=="click"||r.type=="submit"){n(t)}$.each(e,function(e,t){$("#"+e).html(t)})},"json")}function n(e){$(iC).addClass("hover").delay(250).queue(function(e){$(this).removeClass("hover");e()})}iC=".myCart";$("a.addAction, a.removeProduct").live("click",function(e){t(this,e);return false});$("form.addAction").live("submit",function(e){t(this,e);return false});$("#products li").draggable({revert:true,drag:function(e,t){$(this).addClass("active");$(this).closest("#products").addClass("active")},stop:function(){$(this).removeClass("active").closest("#products").removeClass("active")}});$(iC).droppable({activeClass:"active",hoverClass:"hover",tolerance:"touch",drop:function(e,n){var r=n.draggable;var i=r.children(".addAction");t($(i),e)}})})